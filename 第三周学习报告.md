# 第三周学习报告

## 1.java的基础学习：[^1]

```java
import java.util.Scanner;
public class ScannerDemo1 {
    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        System.out.println("请输入一个整数:");
        int i=sc.nextInt();
        System.out.println("i= "+i);
    }
}
```

[^1]:除了创建对象外因为第三周所学Java其余方面与C语言相差不多所以不水报告了

## 2.STM32主要学习点亮开发板的第一盏LED灯[^2]

#### 1.直接通过地址的操作进行LED的点亮

### ![image-20210218002140458](C:\Users\hxd\AppData\Roaming\Typora\typora-user-images\image-20210218002140458.png)

```
	//打开GPIOD端口时钟
	*(unsigned int *)0x40021018 |=( (1) << 3);
	
	//配置IO口为输出
	*(unsigned int *)0x40010C00 |=((0x0f)<<(4*0));
	*(unsigned int *)0x40010C00 |= ( (1)<<(4*0) );
	
	//控制ODR寄存器
	*(unsigned int *)0x40010C0C &=~(1<<0);
```

#### 2.将地址进行封装[^3]

##### stm32xf10x.h:

```
#define PERIPH_BASE					((unsigned int)0x40000000)
#define APB1PERIPH_BASE			PERIPH_BASE
#define APB2PERIPH_BASE			(PERIPH_BASE+0x10000)
#define AHBPERIPH_BASE			(PERIPH_BASE+0x20000)

#define RCC_BASE						(AHBPERIPH_BASE+0x1000)
#define GPIOB_BASE					(APB2PERIPH_BASE+0x0C00)

#define RCC_APB2ENR					*(unsigned int *)(RCC_BASE+0x18)
	
#define GPIOB_CRL						*(unsigned int *)(GPIOB_BASE+0x00)
#define GPIOB_CRH						*(unsigned int *)(GPIOB_BASE+0x04)
#define GPIOB_ODR						*(unsigned int *)(GIOB_BASE+0x0C)	
```

##### main.c:

```
#include"stm32f10x.h"
int main(void)		
{
		//打开GPIO端口时钟
		RCC_APB2ENR |= ((1)<< 3);
		//配置IO口为输出
		GPIOB_CRL	|=((0x0f)<<(4*0));
		GPIOB_CRL	|=((1)<<(4*0));

		//控制ODR寄存器
		GPIOB_ODR &=~(1<<0);
}
//＆=〜将前值的位取零 | =用于配置输出模式且不影响寄存器的其他位
void  SystemInit()
{
 //用于骗过编译器不报错      
}
```



[^2]:因为看的视频有些东西对我来说有些难懂，并且资料太多不知如何抓起所以先从最简单的开始来了
[^3]:为了使寄存器映射更加明了，增强代码可读性

## 3.STM32点亮LED基础知识：



##### GPIO:

```
	GPIO-------general purpose intput output
		是通用输出端口的简称，简单来说就是软件可控制的引脚，STM32的GPIO引脚与外部设备连接起来，实现
数据的采集和功能的实现

	推挽输出：可以输出高低电平，用于连接数字器件，VDD决定高电发，平VSS决定低电平
		        优点：效率高电流大，驱动能力强
		        缺点：功耗大
	开漏输出：只能输出低电平，不能输出高电平，在外接上拉后可输出高电平，具有线与功能，都用于I2C和SMBUS总线
		        优点：功耗低
		        缺点：效率低
```



![image-20210218011425366](C:\Users\hxd\AppData\Roaming\Typora\typora-user-images\image-20210218011425366.png)

上图为点亮LED灯所用的寄存器，其中0~15位可操作用于数据输出









![image-20210218011817735](C:\Users\hxd\AppData\Roaming\Typora\typora-user-images\image-20210218011817735.png)

寄存器GPIO_CRL用于配置寄存器工作模式



![image-20210218012212239](C:\Users\hxd\AppData\Roaming\Typora\typora-user-images\image-20210218012212239.png)

打开端口时钟，相当于给整个程序加入灵魂



##### 总结：

​			寄存器知识点对我来说还是难以理解，毕竟32所选用的寄存器很多，个人学着学着就蒙圈了，不过慢慢来吧。